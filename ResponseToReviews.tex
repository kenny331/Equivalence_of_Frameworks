\documentclass[reqno]{amsart}

\usepackage{amssymb,amsmath,stmaryrd,txfonts,mathrsfs,amsthm}%,undertilde}
\usepackage{comment}
\usepackage[neveradjust]{paralist}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage[outline]{contour}
\contourlength{1.2pt}
\usepackage{tikz}
\usetikzlibrary{intersections,arrows.meta,calc,quotes,math,decorations.pathreplacing,decorations.markings,cd,arrows,positioning,fit,matrix,
shapes.geometric,external,decorations.pathmorphing,backgrounds,circuits,circuits.ee.IEC,shapes}
\usepackage[a4paper,top=2cm,bottom=2cm,inner=3cm,outer=3cm]{geometry}
\usepackage[foot]{amsaddr}
\usepackage{graphicx}
\usepackage{stackrel}

% colors
\usepackage{xcolor}
\usepackage{framed,color}

\def\chris{\color{purple} Christina: }
\def\john{\color{red} John: }
\def\kenny{\color{blue} Kenny: }

\definecolor{shadecolor}{rgb}{1,0.8,0.3}
\definecolor{myurlcolor}{rgb}{0.5,0,0}
\definecolor{mycitecolor}{rgb}{0,0,0.7}
\definecolor{myrefcolor}{rgb}{0,0,0.7}
\definecolor{hyperrefcolor}{rgb}{0.5,0,0}

\usepackage{hyperref}
\hypersetup{
	colorlinks,
	linkcolor={hyperrefcolor},
	citecolor={hyperrefcolor},
	urlcolor={hyperrefcolor}
}

\newcommand{\backref}[1]{(Referred to on page #1.)}

\usepackage[draft]{fixme}
\usepackage[capitalize]{cleveref}

\title{Response to reviews for ``Structured versus decorated cospans''}

\author{John\ C.\ Baez, Kenny Courser, and Christina Vasilakopoulou}

\begin{document}

\maketitle

\setcounter{tocdepth}{2}
\tableofcontents

\section{Reviews - to be removed}

\subsection{First Review}

{\footnotesize

Decorated and structured cospans have been used to model open systems in the work of Fong, Baez, Courser, Master and others.

Previous work by Shulman constructed symmetric monoidal double categories functorially from bifibrations. The present manuscript recovers structured 
and decorated cospan categories as instances of this construction and then compares both using the functoriality of that same construction. The crux 
of many of the proofs is in showing the Beck-Chevalley condition required to apply Shulman’s result. All of this could feel technical but the results 
are detailed and clear. Some of the technology used here is very interesting by itself: monoidal fibrations or the construction of (symmetric 
monoidal) double categories, bicategories and categories.

From the applied point of view, they summarize many other papers in structured and decorated cospans and discuss in which cases both approaches 
coincide. It feels that this should not be this difficult to study for the 1-categorical structure (and indeed it seems to have appeared previously on 
the literature), but here it is done for the symmetric monoidal double category structure.

As the only point against, I feel there is a growing number of “cospan” articles. The present work seems like it could serve as a comparison of all of 
these, but perhaps that comparison could be more explicit and detailed: what is it done in each one of these “cospan” articles? is there anything that 
is not already explained in this one? If some of the articles about decorated cospans were found to contain errors, is this the only construction of 
decorated cospans that solves these errors?

Section 1 motivates decorated cospans in terms of systems and interfaces.

Section 2 recovers a generalization of decorated cospans from Shulman’s construction. The most important part is to show the Beck-Chevalley property 
of the fibration at hand. In Section 3, the construction of structured cospans is recovered from Shulman’s double category using a fibration from the 
comma category of a finite colimit preserving functor L : A -> X. Again, the most important part is to show that the fibration is Beck-Chevalley. Both 
constructions (decorated and structured) are treated in a uniform way, which I see as a very positive contribution. This is used in Section 4 to give 
the comparison.

Section 5 maps double categories to bicategories and categories. For this, they use a result by Hansen and Shulman that constructs them functorially 
from fibrant double categories.

Section 6 explains the problems with Set-decoration for open graphs and justifies the need for Cat-decoration. The best argument for switching Set to 
Cat in the definition of decorated cospan is actually detailed in “Structured Cospans” by Baez and Courser (§5), where they show that the notion of 
isomorphism in graph decorated cospans is too restrictive. Section 6.1 explains how, with theorem contibuted by the paper, decorated and structured 
cospans coincide on the right notion of graph isomorphism.

Section 6.2 seems to simply repeat the same procedure after labelling edges, and Section 6.3 repeats again with Petri nets. Finally, Section 6.4 shows 
something different: a category of open dynamical systems that can be described as a decorated cospan category but that cannot be equivalently 
described as a structured cospan category.

The Conclusions section explains how, if we restrict to a suitable class of opfibrations or one-side inverse adjunctions, we would get the same 
construction from decorated and structured cospans.

In my understanding, the value of this work resides in how it systematically compares the approach of decorated and structured cospans. I would 
highlight the care put in each construction, and how it builds upon previous work for most of the heavy lifting.

Suggested changes, corrections, and general comments.

Lemma 2.4: when talking about the functors $F : (A,\otimes)\to(Cat,\times)$, I think sometimes it is specified that they are lax and sometimes it is 
not. Perhaps it would be clearer to always use “lax monoidal” or to just use “monoidal” to mean lax monoidal.

Theorem 4.1: perhaps it would be clearer to say it “factors through R : Rex -> SymMonCat”.

Proof of Lemma 4.4: there is a typo where “L then becomes left adjoint to R” should probably be “L then becomes left adjoint to U”.

After Theorem A.2: In order to be consistent, it would be practical to state explicitly what is a bifibration.

Beck-Chevalley condition, after Theorem A.2: Using $X_a$ instead of $C_a$ for the fibers on the diagram would be more consistent with previous 
notation.

COVID paragraph: I appreciate the effort into explaining the applied aspect. However, claims about the software (it is “easy”, we “easily” modify, we 
“better understand”) sound too vague (is it computationally better? do we assume that the final user understands structured cospans? are we comparing 
it to other Petri net editors?). Perhaps this paragraph could be fused as a comment to the previous one, which is already a very good justification 
for the use of Petri nets with rates.

Section 6: as a reader, I really appreciate the examples: are there more in the literature? I do not think it is necessary to go in detail over each 
one of them, but perhaps it would be useful to point to other places where they are described.}

\subsection{Second review}

{\footnotesize

Overview

This is an important topic and brings clarity to an open question in the ACT field. The fact that structured and decorated cospans are equivalent in 
many cases is a good thing, and the fact that the authors develop a sufficient condition for proving this equivalence is highly relevant to this 
journal. Having the description of decorated and structured cospans in the same place with a consistent presentation is very useful for the community. 
My review focuses on how I think this work fits into the broader context of ACT research in this area. I recommend publication after addressing the 
following concerns.

Suggested changes, corrections, and general comments.

General Thoughts

Given the title and abstract of this paper “Structured vs Decorated Cospans” I would expect this paper to provide a judgment that structured cospans 
are strictly better than decorated cospans in all circumstances and a justification for that claim, or a detailed analysis of the pros and cons of 
structured vs decorated cospans, some case studies in applications that show how the difference between these double categories is felt in the 
application domain, and a some description of the tradeoffs. This paper should come with some practical advice for the applied category theorist on 
how to choose whether to model their application with structured vs decorated cospans. Section 6 does a good job of detailing the various 
constructions of combinatorial structures that get double categories of structured cospans. The graph and Petri net examples are implemented in 
AlgebraicJulia, specifically the Catlab.Graphs module and the AlgebraicPetri.jl package. Given that Petri nets with structured cospans works, and 
Reaction Networks work, but open dynamical systems do not, I would like some more explanation of the differences here. The examples of graph, labeled 
graph, Petri net, reaction net are all examples of attributed C-Sets [1], the structured cospan construction in provided for arbitrary attributed 
C-Sets in Catlab.CategoricalAlgebra [2]. The open dynamical systems are not attributed C-Sets. All the examples where decorated and structured cospans 
agree are combinatorial, and the only example where they are different is not combinatorial. This gives me the impression that for categories of 
presheaves over a finitely presented category, structured cospans and decorated cospans are always equivalent. The introduction of numerical 
attributes (as in the case of reaction networks) does not appear to interfere with that pattern.

The examples in section 6 would be much stronger if the others included a theorem that all (or finitary) categories of presheaves satisfy the 
conditions of theorem 4.1 or a counter example illustrating that the situation is more complex than algebraic vs analytic distinction between open 
presheaves and the category of open dynamical systems. Without this analysis, I am left with the intuition that for discrete structures like finitary 
presheaves over a finitely presented schema, the decorated and structured cospans are going to be equivalent and for continuous mathematical 
structures like dynamical systems they will be different. If that intuition is correct, the paper should say something about it. If the intuition is 
incorrect, then additional explanation should be provided. I think that the implementation in [2] uses the left and right adjoints L and U in Theorem 
4.1, which is why I think that every category of presheaves should satisfy the main theorem. Hopefully it is easy to check and provide some commentary 
on it in this paper.

The interaction of compositional system behavior and the main theorem is also interesting and worth exploring or commenting on in this paper. If we 
take the categorical systems theory perspective advanced by section 6, and the body of the authors’ recent work on functorial semantics for complex 
systems, then we should ask why the decorated and structured cospan double categories are isomorphic for reaction networks, but their semantics as 
dynamical systems are a decorated cospan category that is not equivalent to any structured cospan category. Is there a different construction of 
semantics for reaction networks that uses structured cospans? The current work does not address the possibility of alternative semantics for 
structured cospans of systems. We can only say that DCsp is not equivalent to any structured cospan category, but is there a different decorated 
cospan category that would provide meaningful functorial semantics that is equivalent to some category of structured cospans. The structured cospan 
view is better for implementing the composition of the system specifications (reaction networks) but the current literature only uses decorated 
cospans for providing the systems with behaviors. If the authors can discuss this issue it would greatly enhance the utility of this paper for shaping 
the research discussion around compositional complex systems.

The conclusions refer to a forthcoming paper. The only conclusion that refers to the work presented in this paper is that theorem 4.1 gives conditions 
under which a category of decorated cospans is isomorphic to a category of structured cospans. Given that the audience for this paper is intended to 
be applied category theorists, this is a place where I would expect some guidance on when an ACT practitioner should choose either structured or 
decorated cospans depending on what mathematical structures they are formalizing within ACT.

Specific Concerns

The development of the AlgebraicPetri software system is credited to Halter and Patterson based on a blog post. The correct citation is to the 
software itself and should be credited to the entire AlgebraicPetri team based on a citation to the repository [3]. The additional authors would be 
Andrew Baas and James Fairbanks.

Several points in the text are written in a way style that can be interpreted as the dismissive style common to many discussions of Category Theory. I 
would recommend rewriting at least the following points that should be made in a more collegial tone.

pg. 2: “But this hope is doomed for reasons painstakingly explained in [1, Section 5] … despite all the tricks one might try.” This paragraph provides 
no insight into the reasons that those tricks fail. Referring them to tricks is dismissive. The citation is to a paper in TAC by the current authors.

pg. 3: “Many of the flawed applications of decorated cospans have been fixed using structured cospans.” This dismisses the work of other scholars 
using the decorated cospan approach as flawed. The alleged flaw should be made more precise. What about the decorated cospan approach is inferior to 
the structured cospan approach? The goal of this paper should be to illustrate to an applied category theory audience the differences between 
decorated and structured cospans. Referring back to previous work of the authors to make that point does not provide value.

pg. 27: To show that U does not have a left adjoint, we use the following well-known result. For readers of the TAC paper previously cited, that might 
be a well known result that does not require a citation, but my understanding of the Compositionality audience assumed that the ACT work was targeted 
readers that are more familiar with the applications and thus cannot be assumed to know such results.}

\begin{verbatim}
[1] https://arxiv.org/abs/2106.04703
[2] https://github.com/AlgebraicJulia/Catlab.jl/blob/f06417de29421441c4133c1cfb75b39ae8aa7142/src/categorical_algebra/StructuredCospans.jl
[3] https://github.com/AlgebraicJulia/AlgebraicPetri.jl
\end{verbatim}

\subsection{Third review}

{\footnotesize
Decorated and structured cospans have emerged as a mainstay of the current wave of ACT, the latter correcting certain technical problems with the 
former. This paper poses two questions:

    How can the technical problems with decorated cospans be fixed?

    How does the corrected version of decorated cospans compare with structured cospans?

The paper offers the following answers:

The symmetric lax monoidal functor (A,+) -> (Set, $\times$) defining a category of isomorphism classes of decorated cospans is replaced by a 
symmetric lax monoidal pseudofunctor (A,+) -> (Cat, $\times$) defining a symmetric monoidal double category of decorated cospans.

A sufficient condition, the main Theorem 4.1, is provided for a double category of decorated cospans to be equivalent, indeed isomorphic, to a double 
category of structured cospans. Several examples, as well as a nonexample, of applying the theorem are given.

The paper is a technical one, giving slick but abstract constructions and proofs using machinery developed by Shulman for turning monoidal 
bifibrations into double categories, and it serves more to clarify and compare existing ACT methods than to introduce new ones. The mathematical 
exposition is, however, very strong, and a fairly wide range of readers should be able to take something away from the paper. Given the central status 
of decorated/structured cospans within ACT, it was important that the above questions be addressed, and the authors have done so admirably. Also, the 
constructions and results are “black-boxed” in such a manner that practioners will be able to use them without understanding in detail the proofs that 
support them. I therefore consider this paper to be a strong contribution to the scholarship of ACT and recommend that it be published.

Suggested changes, corrections, and general comments.

Following are some questions and minor suggested changes.

p. 2. “Unfortunately, many applications of decorated cospans were flawed… for reasons painstaking explained in [1]”

Since fixing these problems is a major motivation for the whole paper, it would be good to explain what they are in slightly more detail, rather than 
just giving a reference. This could be done in a one paragraph or less. The gist of it, as I recall, is that in the original approach to decorated 
cospans, the isomorphism classes of open graphs depend on the identities of the edge elements, which is clearly wrong.

p. 4, following statement of Thm 2.1.

The diagram depicting the decoration morphism $\tau$ as a natural transformation, first shown explictly on p. 10, should be moved here since it is 
implicitly used at the beginning of p. 5 to define the decoration of horizontal composites.

p. 9, ingredients for constructing a double functor of decorated cospan double categories.

Does the natural transformation $\theta$: EF => F’ H have to be a natural isomorphism? Quite possibly I missed something, but I don’t see where in 
the following proofs that assumption is used.

p. 21, definition of F: Set -> Cat

The use f, g for vertex/edge maps is opposite of the convention used on the previous page. I suggest that the same convention be used for both the 
decorated and structured approach to constructing open graphs.

p. 27, end of Section 6.

It seems that the left adjoint needed for structured cospans fails to exist because the chosen category of dynamical systems does not have enough 
morphisms. Relatedly, this is the only example where the pseudofunctor D: (FinSet,+) -> (Cat, $\times$) comes from a simple functor D: (FinSet,+) -> 
(Set, $\times$) by viewing sets as discrete categories. In the other examples, this would count as using decorated cospans in the old, flawed way. 
All of this suggests the question: is there a way of constructing a category of dynamical systems that has more morphisms, so that a connection with 
structured cospans can be established?

p. 30, following Thm A.2

If I am not mistaken, “fibration”, “opfibration,” “monoidal (op/bi)fibration” are all defined, but the definition of “bifibration” is omitted. For 
completeness, it should be included.

A last general comment is that the paper unfortunately adopts the strategy, all too common in math papers, of putting all the examples in a section at 
the end of the paper. I think the readability of the paper would be improved, without much change to the organization, if the motivating example of 
open graphs were added to the relevant places in Sections 2 and 3. The remaining examples could be left in Section 6.
}

\subsection{Fourth review}

{\footnotesize
What are the main questions posed by the manuscript, and how does it answer them? Why or why not is this work a significant technical or conceptual 
contribution to scholarship?

Decorated cospans and structured cospans are two different tools for building categories of open systems, both of which have been applied in several 
existing papers (and this reviewer believes they will continue to grow in importance over time). This paper explains the relationship between them, in 
a very elegant way using the equivalence between fibered and indexed categories, to the extent that the two constructions now appear as different 
perspectives on the same fundamental idea. To me this relationship appears obvious in retrospect, and I mean this as a compliment to the paper. I 
think this paper is an important contribution to categorical systems theory, and I recommend acceptance.

Suggested changes, corrections, and general comments.

Composition of morphisms f, g in this paper is usually denoted gf, and occasionally gof. I’d suggest mentioning this in the “conventions” section.

p3: “Using the Grothendieck construction” - maybe worth mentioning this is the “covariant” version which is different to the most common convention 
(at least I think so, but the literature seems to be very split over this)

Theorem 2.1: Maybe worth saying explicitly that s is an object of the category F(m) rather than using $\in$, since this is exactly the distinction to 
Fong’s original definition

Proof of theorem 2.1: You should probably at least handwave that the cartesian liftings really are cartesian liftings. (No doubt it’s easy, but this 
is a classic sort of spot where errors can hide)

On page 9 during the construction of H, I would appreciate a sentence giving some intuition for the functor E, at this point I’m confused about its 
role.

Theorem 2.5: F should be defined on A, not A’

I think it would be worth saying in words a bit more prominently what the hypothesis of theorem 4.1 roughly means, namely that the fibers of the total 
category have finite colimits, reindexing preserves them, and the monoidal product on the fibers is cocartesian.

I wonder if the “problem” where DCsp is not a structured cospan category could be “fixed” by upgrading the functor from Set to Cat in a non-discrete 
way, for example with an ordering with the zero vector field as the bottom element. I suppose this would give you different 2-cells in the resulting 
double category or bicategory, but perhaps it would yield the same 1-category}

\section{Our Answer}


\begin{enumerate}

\item As the only point against, I feel there is a growing number of “cospan” articles. The present work seems like it could serve as a comparison of 
all of 
these, but perhaps that comparison could be more explicit and detailed: what is it done in each one of these “cospan” articles? is there anything 
that 
is not already explained in this one? If some of the articles about decorated cospans were found to contain errors, is this the only construction of 
decorated cospans that solves these errors?

{\bf The present work reviews all previous work on decorated and structured cospans in Section 6.  As we mention, our previous paper ``Structured 
cospans'' fixed the errors in previous work using decorated cospans by using structured cospans instead.   Here we describe how the new improved 
decorated cospans can also fix those errors.     There may be even more ways to correct these errors, but we do not know them.}    {\john 
$\checkmark$}
{\chris As was suggested by John at some point, would we perhaps want to add a sentence or two in the introduction, saying that indeed there are a 
number of cospan articles etc. and that in the beginning of section 6 we elaborate on those?}

 \item Lemma 2.4: when talking about the functors $F : (A,\otimes)\to(Cat,\times)$, I think sometimes it is specified that they are lax and sometimes 
it is not. Perhaps it would be clearer to always use “lax monoidal” or to just use “monoidal” to mean lax monoidal.

{\bf We have added ``lax'' at Lemma 2.4 in two occurences, and have checked the rest of the document to verify that this does not happen 
elsewhere.}  {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

\item Theorem 4.1: perhaps it would be clearer to say it “factors through R : Rex $\to$ SymMonCat”.

{\bf Done, also in Corollary 4.3.}  

\iffalse
{\john  I find that this added text confuses me more than it helps me:
\vskip 1em
\begin{quote}
Essentially, the above assumptions state that the fibers of the induced opfibration $U$ have finite colimits which are preserved by the reindexing functors, and the induced fiberwise monoidal structure is cocartesian. Explicitly, regarding the last point: the lax monoidal pseudofunctor structure $(F,\phi,\phi_0)$ gives rise to a specific symmetric monoidal structure on the fibers $F(a)$ given by (3), since $\mathsf{A}$ is cocartesian monoidal, and we ask that the resulting pseudofunctor $F\colon \mathsf{A} \to \mathsf{SMC}$ factors through $\mathsf{Rex}$, so that (3) gives coproducts and an initial object in each $F(a)$.
\end{quote}
\vskip 1em
I think the referee just wanted us to change, in the statement of Theorem 4.1, the phrase
``factors through $\mathsf{Rex}$'' to ``“factors through $R \colon \mathsf{Rex} \to \mathsf{SMC}$, where $R$ was his name for this 2-functor, not ours!   It's not a good name for it since we have another $R$ in our
paper.   So, I've commented out the added text and said ``factors through the above 2-functor $\mathsf{SMC} \to \mathsf{Rex}$'' --- we defined right above the theorem.}
\fi

{\chris Indeed this comment refers to the functor $\mathsf{Rex} \to \mathsf{SMC}$, I also chose to disregard R for the same reasons. The paragraph 
below existed in part later in text, and was in part expanded according to comment 29, not this one! I think I agree with that comment in that the 
assumptions of the theorem deserve a bit of explanation, and tried my best there but possibly did not succeed if you say it is confusing. Could we 
revive the paragraph and explain better? I can give it another try!}

{\john  Okay, that makes sense.   I put the paragraph back in and changed it a bunch: basically, I added some more steps so people who don't know what 
we're doing will have an easier time figuring it out.   Does it look okay to you?}

{\chris Yes it does, thanks! Although in my mind, it kinda goes the opposite way: e.g. the already induced monoidal product on the fibers ends up 
having the universal property of a coproduct for example. Possibly just overthinking and getting mixed up with words.}

\item Proof of Lemma 4.4: there is a typo where “L then becomes left adjoint to R” should probably be “L then becomes left adjoint to U”.

{\bf Done.}  {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

\item After Theorem A.2: In order to be consistent, it would be practical to state explicitly what is a bifibration.

{\bf Done.} {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

\item Beck-Chevalley condition, after Theorem A.2: Using $X_a$ instead of $C_a$ for the fibers on the diagram would be more consistent with previous 
notation.

{\bf Done.} {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

\item COVID paragraph: I appreciate the effort into explaining the applied aspect. However, claims about the software (it is “easy”, we “easily”  modify, we “better understand”) sound too vague (is it computationally better? do we assume that the final user understands structured cospans? are we comparing  it to other Petri net editors?). Perhaps this paragraph could be fused as a comment to the previous one, which is already a very good justification  for the use of Petri nets with rates.

{\bf There is now a paper detailing how this software works, so according to this suggestion we have changed our paper so it simply refers to that other paper.}   {\john But we still need to add an arXiv link in reference 1!  It should be on the arXiv soon.} 

%{\chris Great! The 
%hyperref link ??? opens up notes by Kenny for me, I don't know how or why.}

%{\john It's weird that the line ??? opens up anything for you.  It'll go away when we get the arXiv number.} Indeed!

\item Section 6: as a reader, I really appreciate the examples: are there more in the literature? I do not think it is necessary to go in detail over each one of them, but perhaps it would be useful to point to other places where they are described.

{\bf We have added a word about Markov processes in Section 6.2, and with this, all the applications of structured or decorated cospans that we know 
of are discussed here.} {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

\vskip 1em

{\chris Second review starts here}
\item Given the title and abstract of this paper “Structured vs Decorated Cospans” I would expect this paper to provide a judgment that structured  cospans are strictly better than decorated cospans in all circumstances and a justification for that claim, or a detailed analysis of the pros and cons of 
structured vs decorated cospans, some case studies in applications that show how the difference between these double categories is felt in the 
application domain, and a some description of the tradeoffs. This paper should come with some practical advice for the applied category theorist on 
how to choose whether to model their application with structured vs decorated cospans. {THE LAST SENTENCE IS NEWLY COPIED FROM REVIEW, WE CAN ERASE 
IF NOT CONVENIENT}

{\bf In fact our goal, as explained in the abstract and introduction, was to prove that the structured and decorated cospan approaches are equivalent under certain conditions, and to illustrate this result with a wide variety of examples.}

{\kenny I think the reader should come to their own conclusion about which framework they should use if they are trying to decide between the two, assuming both are applicable. I wouldn't say that one is better than the other. Personally, I would rather try structured cospans first, because I would rather think about a left adjoint than a symmetric lax monoidal pseudofunctor, but other people might feel differently.} 

{\john I agree with you, Kenny.  I think this reviewer saw the word ``vs'' and thought we were going to let structured and decorated cospans fight it out and announce who won, like at a boxing match.   Instead of arguing that this is not a good idea for a paper, I decided to just point out that our abstract says what our paper does, and it's something else.   (I also agree with you that structured cospans are simpler when you can use them: that's why we invented them!)}

{\john If you like the response in boldface above, please add a checkmark here.  Otherwise try to
improve it, or something.}  

{\john $\checkmark$}

{\chris I agree with both, and also I like the boldface above. I could add ``Those examples should serve as a guide for other similar applications, 
whereas new applications would require exploring which approach works best, for example if a left adjoint (to start off with structured cospans) or a 
lax monoidal pseudofunctor (to start off with decorated cospans) is available. We do not make a stand that either is strictly better.'' In fact, we 
could add something soft along those lines somewhere in the introduction to satisfy the reviewer, if we like.}

{\chris By the way, there is this sentence ''However, it should be clear by now that so
far, in cases where either structured or decorated cospans can be used, structured cospans are simpler. '' in section 6. Perhaps we could even imply 
that somewhere in the intro as well?}

{\kenny The boldface looks good to me, but I also like Christina's suggestions above if we really want to make an effort to appease this referee. I'm fine either way on this.}

{\kenny $\checkmark$}

\item Given that Petri nets with structured cospans works, and Reaction Networks work, but open dynamical systems do not, I would like some more 
explanation of the differences here. The examples of graph, labeled 
graph, Petri net, reaction net are all examples of attributed C-Sets [1], the structured cospan construction in provided for arbitrary attributed 
C-Sets in Catlab.CategoricalAlgebra [2]. The open dynamical systems are not attributed C-Sets.(...)The examples in section 6 would be much stronger 
if the others included a theorem that all (or finitary) categories of presheaves satisfy the 
conditions of theorem 4.1 or a counter example (...) Hopefully it is easy to check and provide some 
commentary 
on it in this paper.

{\john Actually it's really easy to prove that presheaf categories obey the conditions of Theorem 4.1:
given any functor $f : \mathsf{C} \to \mathsf{D}$ the left adjoint functor between presheaf categories $f_! : \widehat{\mathsf{C}} \to \widehat{\mathsf{D}}$ obeys the conditions of Theorems 4.1 and 4.2.   So I think we can easily add this as a corollary, maybe right after Theorem 4.2, to get a pile of examples.   Obvious to us, but not to everyone.  Should I do it?}

{\chris Sounds like a great idea to me!! I was also a bit scared to go into this when I first saw it, but I kinda thought morally we should, and now 
it looks like it won't be a disaster, and in fact a very fruitful result!! So yes please, do it and let me know what I can do to help except 
proofread it.}

{\chris Also perhaps we should add those references they provide somewhere.}

\item If we take the categorical systems theory perspective advanced by section 6, and the body of the authors’ recent work on functorial semantics 
for complex 
systems, then we should ask why the decorated and structured cospan double categories are isomorphic for reaction networks, but their semantics as 
dynamical systems are a decorated cospan category that is not equivalent to any structured cospan category. Is there a different construction of 
semantics for reaction networks that uses structured cospans?

{\bf We do not know a semantics for dynamical systems that uses structured cospans; to find one would
require getting around the result at the end of Section 6.}

{\chris Should we refer to which result we are talking about? Also, I am a bit confused about the question and answer. I thought reaction networks 
can be described in both ways?}

\item The development of the AlgebraicPetri software system is credited to Halter and Patterson based on a blog post. The correct citation is to the 
software itself and should be credited to the entire AlgebraicPetri team based on a citation to the repository [3]. The additional authors would be 
Andrew Baas and James Fairbanks.

{\john I wasn't trying to talk about AlgebraicPetri, just the application to epidemiology, and unfortunately that was (and still is???) only explained 
in a blog article. But it'd be good to add a reference to the repository.}

{\chris I added the reference but looks a bit funny, edit at will. Did not add any text.}

[Several points in the text are written in a way style that can be interpreted as the dismissive style common to many discussions of Category 
Theory. I 
would recommend rewriting at least the following points that should be made in a more collegial tone.]

\item pg. 2: “But this hope is doomed for reasons painstakingly explained in [1, Section 5] … despite all the tricks one might try.” This paragraph 
provides 
no insight into the reasons that those tricks fail. Referring them to tricks is dismissive. The citation is to a paper in TAC by the current authors.

{\bf We removed the part of the sentence ``despite all the tricks one might try'' according to this suggestion. In [3, Section 5], these attempts are 
explained in detail, and we find them of value because the diligent reader may in fact come up with some of these for fixing the problem.}

{\john He thought we were being dismissive because he didn't know that the ``tricks'' were all things I'd done myself!  If he looked at [1, Section 5] 
he'd see it was me coming up with a bunch of tricks to try to save the decorated cospan category of open graphs, and then Kenny and me explaining why 
this tricks don't work.  So maybe I should just delete ``despite all the tricks one might try''.  Sound good?}

{\chris Sounds good to me! See above, amend at will.}

{\kenny Sounds good.}

\item pg. 3: “Many of the flawed applications of decorated cospans have been fixed using structured cospans.” This dismisses the work of other 
scholars 
using the decorated cospan approach as flawed. The alleged flaw should be made more precise. What about the decorated cospan approach is inferior to 
the structured cospan approach? 
%The goal of this paper should be to illustrate to an applied category theory audience the differences between 
%decorated and structured cospans. Referring back to previous work of the authors to make that point does not provide value.

{\john The "other scholars" are mainly me and Brendan, and the flaws are that some claims are false! I think we describe the flaws in Section 6; if so 
we should point to that.}   

{\john I feel like just leaving out this part in our reply: ``The goal of this paper should be to illustrate to an applied category theory audience the differences between 
decorated and structured cospans. Referring back to previous work of the authors to make that point does not provide value.''}

{\chris Right, done. About our answer here, we could politely tell them that the problem is simply that they are wrong! And perhaps, in 
text amend that sentence to ``Many of the flawed applications of decorated cospans, \emph{like the open graph one described above},...'' because we 
do actually say what the flaw is there, correct? I don't see where we describe flaws in Section 6.}

\item pg. 27: To show that U does not have a left adjoint, we use the following well-known result. For readers of the TAC paper previously cited, 
that might 
be a well known result that does not require a citation, but my understanding of the Compositionality audience assumed that the ACT work was targeted 
readers that are more familiar with the applications and thus cannot be assumed to know such results.

{\bf We have added a citation to Emily Riehl's book ``Category Theory in Context'' which includes said result, above Lemma 6.1.}  

%{\john I have also changed ``well-known'' to ``known'', which is more polite to people who don't know it.} {\chris Good!}

{\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

{\chris Third review starts here}
\item p. 2. “Unfortunately, many applications of decorated cospans were flawed… for reasons painstaking explained in [1]”

Since fixing these problems is a major motivation for the whole paper, it would be good to explain what they are in slightly more detail, rather than 
just giving a reference. This could be done in a one paragraph or less. The gist of it, as I recall, is that in the original approach to decorated 
cospans, the isomorphism classes of open graphs depend on the identities of the edge elements, which is clearly wrong.

{\chris If I am not wrong, the paragraph cited here IS the explanation of the problem, perhaps in application terms rather than in theory terms. 
Consider perhaps adding one sentence along the lines suggested?}

\item p. 4, following statement of Thm 2.1.

The diagram depicting the decoration morphism $\tau$ as a natural transformation, first shown explictly on p. 10, should be moved here since it is 
implicitly used at the beginning of p. 5 to define the decoration of horizontal composites.

{\bf We have moved the natural isomorphism triangle as equation (1) in the statement of Theorem 2.1, and we have referred to it at page 10.} {\chris 
$\checkmark$}

\item p. 9, ingredients for constructing a double functor of decorated cospan double categories.

Does the natural transformation $\theta$: EF $\Rightarrow$ F’ H have to be a natural isomorphism? Quite possibly I missed something, but I don’t see 
where in 
the following proofs that assumption is used.

{\kenny I think they are correct in that we don't use this extra assumption.}

{\chris I have a vague feeling that we discussed something similar a long time ago, but I do not remember the context at all. Perhaps it was an 
identity then? In any case, if we don't actually use it then we should make it into a transformation.}

{\kenny Yes, originally it was an identity. Structured cospans has similar squares for its maps, but those ones are required to be invertible. In my 
thesis, I was going to try to come up with a recipe for turning those squares into these ones, so I made these ones invertible, too, but never 
actually got around to this.}

{\chris I see! So for maps of structured cospans, invertibility is actually essential?}

\item p. 21, definition of F: Set $\to$ Cat

The use f, g for vertex/edge maps is opposite of the convention used on the previous page. I suggest that the same convention be used for both the 
decorated and structured approach to constructing open graphs.

{\bf At the beginning of Section 6.1, as well as in Sections 6.2 and 6.3, we now use $f$ as a map between vertices and $g$ as a map 
between edges.} 

{\chris $\checkmark$} {\john $\checkmark$} {\kenny  $\checkmark$}

{\chris Added a few more places where Kenny spotted these mistakes.}

{\kenny Species and transitions are analogous to vertices and edges, so those maps were also changed to $f$s and $g$s, respectively.}

{\chris Sure, are those in 6.4? As in, are there sections missing from the response sentence above?}

\iffalse
{\kenny I \emph{think} they are complaining that we use $f$ as a map of vertices and $g$ as a map of edges when we're talking about the functor $F \colon \mathsf{Set} \to \mathsf{Cat}$ on page 21, but we use $g$ as a map of vertices and $f$ as a map of edges in the two squares at the start of Section 6.1 on the previous page?}

{\john That sounds plausible.  Unless there's a damn good reason let's use $f$ as a map for vertices and $g$ as a map for edges, since ``vertices come 
before edges'' - morally the first are 0-cells, the second are 1-cells.}

{\chris I see. Fixed, and see above.}
\fi

\item p. 27, end of Section 6.

It seems that the left adjoint needed for structured cospans fails to exist because the chosen category of dynamical systems does not have enough 
morphisms. Relatedly, this is the only example where the pseudofunctor D: (FinSet,+) $\to$ (Cat, $\times$) comes from a simple functor D: (FinSet,+) 
$\to$ (Set, $\times$) by viewing sets as discrete categories. In the other examples, this would count as using decorated cospans in the old, flawed 
way. 
All of this suggests the question: is there a way of constructing a category of dynamical systems that has more morphisms, so that a connection with 
structured cospans can be established?

{\chris This looks similar to comment 30.}

\item p. 30, following Thm A.2

If I am not mistaken, “fibration”, “opfibration,” “monoidal (op/bi)fibration” are all defined, but the definition of “bifibration” is omitted. For 
completeness, it should be included.

{\bf Done.} 

{\chris $\checkmark$} {\john $\checkmark$}  {\kenny $\checkmark$}

\item A last general comment is that the paper unfortunately adopts the strategy, all too common in math papers, of putting all the examples in a 
section at 
the end of the paper. I think the readability of the paper would be improved, without much change to the organization, if the motivating example of 
open graphs were added to the relevant places in Sections 2 and 3. The remaining examples could be left in Section 6.

{\bf We believe that it is hard to analyze the examples (even the motivating one of open graphs) without having laid all relevant theory. Also, 
the comparison between the two descriptions -- prominent in Section 6.1 -- would then not be possible to illustrate. In order to 
better direct the reader to the applications, we added one sentence at each introductory paragraph of Sections 2 and 3 that point to Section 6 for 
concrete examples.}

{\john
I don't want to bust up the examples and put some in sections 2 and 3. Anyone who wants examples can easily find them all in Section 6, we mention 
this section in the introduction (and perhaps should advertise it more there), and it's hard to analyze the examples without having all the theory in 
hand.}

{\chris I agree. How does the above boldface sound?}

{\kenny Agreed about keeping the examples together. The boldface looks good to me.}

{\chris Fourth review starts here}
\item Composition of morphisms f, g in this paper is usually denoted gf, and occasionally gof. I’d suggest mentioning this in the “conventions” 
section.

{\chris I would be happy to add this to conventions, but I cannot seem to find gf anywhere in the paper. Anyone else?}

{\color{blue}{Kenny: They might not mean $gf$ specifically, but there are many instances where we don't use a $\circ$ for functional composition, e.g. 
when we're pushing forward a graph structure over a map $f$ of vertices towards the top of page 21. Do we want to use a $\circ$ or not?}}

{\chris Ah you are right. I don't mind, we could specify that for function composition we sometimes use concatenation!}

{\john There were a couple places where I put in $\circ$ --- that's what the referee is really complaining
about here.  Almost always we don't.  I could remove the $\circ$s.  There was a reason I put them in: there are some places where writing a composite 
using plain old concatenation looks weird to me.   But I don't think it's that big a deal.}

{\chris By searching our paper, I find $\circ$ in many places that should stay in my opinion, for composition of things that are not functions 
necessarily, and maybe only a couple for functions namely towards the end of 6.4. I also don't think it's a big deal.}


\item p3: “Using the Grothendieck construction” - maybe worth mentioning this is the “covariant” version which is different to the most common 
convention 
(at least I think so, but the literature seems to be very split over this)

{\chris Not sure that `covariant' would make this clearer...both are very well the Grothendieck construction I would think, but I don't mind that 
much.}

\item Theorem 2.1: Maybe worth saying explicitly that s is an object of the category F(m) rather than using $\in$, since this is exactly the 
distinction to 
Fong's original definition.

{\bf  We have added a remark about this in the definition.}   {\john $\checkmark$} {\chris $\checkmark$} {\kenny $\checkmark$}

%{\chris Maybe just specify in the statement of 2.1, definitely keep $\in$ sign in all diagrams below!}

%{\john It's hard to tweak the statement, since we're really trying to introduce the notation of decorations in maps of structured cospans here!    
%So 
%I've added something about this \emph{after} the statement of Theorem 2.1.  See if you like it:
%\begin{quote} 
%Note that the decoration $s \in F(m)$ is now an object in the category $F(m)$, not an element of a set as in Fong's original approach. 
%\end{quote}}

%{\chris Looks good!}

\item Proof of theorem 2.1: You should probably at least handwave that the cartesian liftings really are cartesian liftings. (No doubt it’s easy, but 
this 
is a classic sort of spot where errors can hide)

\item On page 9 during the construction of H, I would appreciate a sentence giving some intuition for the functor E, at this point I’m confused about 
its 
role.

{\color{blue}{Kenny: We don't have any examples where $E$ is not an identity, but in my mind it's a functor that possibly modifies decorations, e.g. 
$F(a)$ is a category of graph structures on $a$, and $E(F(a))$ could be something like a category of possibly labeled graph structures on $a$, if that 
makes sense. Something potentially different than \emph{just} a graph structure on $a$.}}

{\chris Right! We can perhaps add a sentence to this end, saying that although we only use E as an identity, someone could need to change decorations 
for some application?}

{\kenny Sure, maybe sometime before the official statement of the Theorem when we're describing how the double functor $\mathbb{H}$ is defined?}

{\chris Sounds good to me!}

\item Theorem 2.5: F should be defined on A, not A’

{\bf Done.} {\chris $\checkmark$} {\kenny $\checkmark$}

\item I think it would be worth saying in words a bit more prominently what the hypothesis of theorem 4.1 roughly means, namely that the fibers of 
the total 
category have finite colimits, reindexing preserves them, and the monoidal product on the fibers is cocartesian.

{\bf We have added a paragraph right below the statement of Theorem 4.1, clarifying its assumptions as suggested, which also incorporates an 
explanatory paragraph previously located under Corollary 4.3.} {\chris $\checkmark$} {\kenny $\checkmark$}

\item I wonder if the “problem” where DCsp is not a structured cospan category could be “fixed” by upgrading the functor from Set to Cat in a 
non-discrete 
way, for example with an ordering with the zero vector field as the bottom element. I suppose this would give you different 2-cells in the resulting 
double category or bicategory, but perhaps it would yield the same 1-category

{\chris This looks similar to comment 20.}
\end{enumerate}


\end{document}
